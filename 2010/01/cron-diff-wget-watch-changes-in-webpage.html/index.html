<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>mostlymaths.net  | Cron, diff &amp; wget: Watch changes in a webpage</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.57.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/rberenguel.github.io/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    
      <link rel="stylesheet" href="/rberenguel.github.iobyrne-caps/stylesheet.css">
    
      <link rel="stylesheet" href="/rberenguel.github.iocss/custom.css">
    

    
      
    

    

    <meta property="og:title" content="Cron, diff &amp; wget: Watch changes in a webpage" />
<meta property="og:description" content="From flickr
A few months ago, I realised I was checking some pages frequently for changes. They were some congress pages, and I was waiting for them to add information about registration and such.
Then I realised I could write a script to do it, using diff and wget. You can get it below. You have to edit it to add the pages you want to follow, then run it with the &ldquo;write&rdquo; option to download the first version, then edit your crontab file (crontab -e) to run it every day at a specified time with the &ldquo;diff&rdquo; option." />
<meta property="og:type" content="article" />
<meta property="og:url" content="rberenguel.github.io/2010/01/cron-diff-wget-watch-changes-in-webpage.html/" />
<meta property="article:published_time" content="2010-01-04T00:01:00+01:00" />
<meta property="article:modified_time" content="2010-01-04T00:01:00+01:00" />
<meta itemprop="name" content="Cron, diff &amp; wget: Watch changes in a webpage">
<meta itemprop="description" content="From flickr
A few months ago, I realised I was checking some pages frequently for changes. They were some congress pages, and I was waiting for them to add information about registration and such.
Then I realised I could write a script to do it, using diff and wget. You can get it below. You have to edit it to add the pages you want to follow, then run it with the &ldquo;write&rdquo; option to download the first version, then edit your crontab file (crontab -e) to run it every day at a specified time with the &ldquo;diff&rdquo; option.">


<meta itemprop="datePublished" content="2010-01-04T00:01:00&#43;01:00" />
<meta itemprop="dateModified" content="2010-01-04T00:01:00&#43;01:00" />
<meta itemprop="wordCount" content="462">



<meta itemprop="keywords" content="Programming,Linux," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Cron, diff &amp; wget: Watch changes in a webpage"/>
<meta name="twitter:description" content="From flickr
A few months ago, I realised I was checking some pages frequently for changes. They were some congress pages, and I was waiting for them to add information about registration and such.
Then I realised I could write a script to do it, using diff and wget. You can get it below. You have to edit it to add the pages you want to follow, then run it with the &ldquo;write&rdquo; option to download the first version, then edit your crontab file (crontab -e) to run it every day at a specified time with the &ldquo;diff&rdquo; option."/>

  </head>

  <body class="ma0 helvetica bg-near-white">

    



  <header>
    <div class="bg-gray">
      <nav class="pv1 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="rberenguel.github.io" class="f3 fw2 hover-white no-underline white-90 dib">
      mostlymaths.net
    </a>
    <div class="flex-l items-center">
      

      
      











    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      

  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <h1 class="fw1 mb1 f1">Cron, diff &amp; wget: Watch changes in a webpage</h1>
      
      <time class="f6 mv4 dib tracked" datetime="2010-01-04T00:01:00&#43;01:00">January 4, 2010</time>
      
      
      &nbsp;&nbsp;&nbsp;
      <span class="fw1 mv4 dib tracked i" style="font-size: 0.4rem;"> 3 minutes read</span>
      <span class="fw1 mv4 dib tracked i" style="font-size: 0.4rem;"> | 462 words</span>
      
    </header>
    
    <section class="nested-copy-line-height lh-copy f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l justify "><p><a href="http://4.bp.blogspot.com/_f3d3llNlZKQ/SzfNveCJTgI/AAAAAAAABpw/g0LENmHEKTw/s1600-h/3387189144_955030cc27.jpg"><img src="http://4.bp.blogspot.com/_f3d3llNlZKQ/SzfNveCJTgI/AAAAAAAABpw/g0LENmHEKTw/s400/3387189144_955030cc27.jpg" alt="" /></a></p>

<p>From <a href="http://www.flickr.com/photos/robbie73/3387189144/">flickr</a></p>

<p>A few months ago, I realised I was checking some pages frequently for changes. They were some congress pages, and I was waiting for them to add information about registration and such.</p>

<p>Then <strong>I realised I could write a script to do it, using</strong> <strong>diff</strong> <strong>and</strong> <strong>wget</strong>. You can get it below. You have to edit it to add the pages you want to follow, then run it with the &ldquo;write&rdquo; option to download the first version, then edit your crontab file (crontab -e) to run it every day at a specified time with the &ldquo;diff&rdquo; option. For example:</p>

<blockquote>
<p>00 13 1,7,14,21,28 * * /home/user/PageDiff.sh diff</p>
</blockquote>

<p>will run it every 1st, 7th, 14th, 21st and 28th of the month, at 13:00. Be sure to first run it as write.</p>

<pre><code>

&gt; #!/bin/sh  
&gt;   
&gt; \# Copyright 2009 Ruben Berenguel  
&gt;   
&gt; \# ruben /at/ maia /dot/ ub /dot/ es  
&gt;   
&gt; \# PageDiffs: Fill in an array of webpages, with the option &quot;write&quot;  
&gt; \# will download them, with the &quot;diff&quot; option will re-download them and  
&gt; \# check the new against the old for differences. With the &quot;diff mail&quot;  
&gt; \# option, will send an email to $MAILRECIPIENT, assuming mail works.  
&gt; \# You can find the most up to date version of this file (and the GPL)  
&gt; \# [http://rberenguel.googlecode.com/svn/trunk/Bash/PageDiffs.sh](http://rberenguel.googlecode.com/svn/trunk/Bash/PageDiffs.sh)  
&gt;   
&gt; \# 20091226@00:24  
&gt;   
&gt; MAILRECIPIENT=&quot;mail@mail.com&quot;  
&gt;   
&gt; j=0  
&gt; Pages\[j++\]=&quot;http://www.maia.ub.es/~ruben/&quot;  
&gt; Pages\[j++\]=&quot;http://www.google.es&quot;  
&gt; #Add more pages as above  
&gt;   
&gt; if \[ &quot;$1&quot; = &quot;write&quot; \]; then  
&gt; echo Generate files  
&gt; count=0  
&gt; for i in &quot;${Pages\[@\]}&quot;  
&gt; do  
&gt; echo Getting &quot;$i&quot; into File$count  
&gt; wget &quot;$i&quot; -v -O &quot;File$count&quot;  
&gt; let count=$count+1  
&gt; done  
&gt; fi  
&gt; if \[ &quot;$1&quot; = &quot;diff&quot; \]; then  
&gt; count=0  
&gt; for i in &quot;${Pages\[@\]}&quot;  
&gt; do  
&gt; \# echo Getting &quot;$i&quot; into Test$count  
&gt; wget &quot;$i&quot; -q -O &quot;Test$count&quot;  
&gt; Output=$(diff -q &quot;Test$count&quot; &quot;File$count&quot; | grep differ)  
&gt; Result=$?  
&gt; if \[ &quot;$Result&quot; = &quot;0&quot; \]; then  
&gt; if \[ &quot;$2&quot; = &quot;mail&quot; \]; then  
&gt; echo Page at &quot;$i&quot; has changed since last check! &gt;&gt; MailCont  
&gt; mail=1  
&gt; fi  
&gt; echo Page at &quot;$i&quot; has changed since last check!  
&gt; else  
&gt; echo Page at &quot;$i&quot; has not changed since last check!  
&gt; fi  
&gt; #rm Test$count  
&gt; let count=$count+1  
&gt; done  
&gt; if \[ &quot;$mail&quot; = &quot;1&quot; \]; then  
&gt; mail -s &quot;Page changed alert!&quot; $MAILRECIPIENT 


</code></pre>

<p>Related posts:</p>

<p><img src="http://3.bp.blogspot.com/_f3d3llNlZKQ/S-VA4aF2G1I/AAAAAAAACT8/41SMm6kvdqs/s00/favicon.png" alt="" /> <a href="http://www.mostlymaths.net/2010/04/9-programming-books-i-have-read-and.html">9 programming books I have read and somewhat liked&hellip;</a></p>

<p><img src="http://3.bp.blogspot.com/_f3d3llNlZKQ/S-VA4aF2G1I/AAAAAAAACT8/41SMm6kvdqs/s00/favicon.png" alt="" /> <a href="http://www.mostlymaths.net/2010/08/and-e-appears-from-nowhere.html">And e Appears From Nowhere!</a></p>

<p><img src="http://3.bp.blogspot.com/_f3d3llNlZKQ/S-VA4aF2G1I/AAAAAAAACT8/41SMm6kvdqs/s00/favicon.png" alt="" /> <a href="http://www.mostlymaths.net/2010/08/power-nap-via-command-line-in-linuxmac.html">Power Naps With a Command Line Utility in Linux</a></p>

<p><img src="http://3.bp.blogspot.com/_f3d3llNlZKQ/S-VA4aF2G1I/AAAAAAAACT8/41SMm6kvdqs/s00/favicon.png" alt="" /> <a href="http://berenguel.blogspot.com/2009/12/c-code-juicer.html">C code juicer: detecting copied programming assignments</a></p>

<p><img src="http://3.bp.blogspot.com/_f3d3llNlZKQ/S-VA4aF2G1I/AAAAAAAACT8/41SMm6kvdqs/s00/favicon.png" alt="" /> <a href="http://www.mostlymaths.net/2010/03/8-reasons-for-re-inventing-wheel-as.html">8 reasons for re-inventing the wheel as a programmer</a><br />
<img src="http://3.bp.blogspot.com/_f3d3llNlZKQ/S-VA4aF2G1I/AAAAAAAACT8/41SMm6kvdqs/s00/favicon.png" alt="" /> <a href="http://www.mostlymaths.net/2010/04/approximating-images-with-randomly.html">Approximating images with randomly placed translucent triangles</a><br />
<img src="http://3.bp.blogspot.com/_f3d3llNlZKQ/S-VA4aF2G1I/AAAAAAAACT8/41SMm6kvdqs/s00/favicon.png" alt="" /> <a href="http://www.mostlymaths.net/2010/05/100-most-common-words-in-icelandic-more.html">The 100 Most Common Icelandic Words with a Bash Script</a>ParseList(ScrambleList(Relateds(Programming)),4)</p>
<hr/><ul class="pa0">
  
   <li class="list" style="display:inline;">
     <a href="/rberenguel.github.io/tags/programming" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Programming</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/rberenguel.github.io/tags/linux" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Linux</a>
   </li>
  
</ul>
<div class="mt6">
            
            
        </div>
    </section>
<aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links rounded-6">
    <p class="fw1 f4 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="rberenguel.github.io/2010/01/syncing-ipods-vmac-and-linux-emacs-on.html/">Syncing iPod&#39;s vMac and Linux: emacs on iPod Touch</a>
        </li>
	    
	     <li  class="mb2">
          <a href="rberenguel.github.io/2009/12/evolutionary-approximation-of-christmas.html/">Evolutionary approximation of a Christmas postcard</a>
        </li>
	    
	     <li  class="mb2">
          <a href="rberenguel.github.io/2009/12/rcs-svn-version-control.html/">RCS &amp; SVN: Version control</a>
        </li>
	    
	     <li  class="mb2">
          <a href="rberenguel.github.io/2009/11/mg-zile-quick-emacs-in-command-line.html/">mg &amp; Zile: quick emacs in the command line</a>
        </li>
	    
	     <li  class="mb2">
          <a href="rberenguel.github.io/2009/09/whistle-control-your-computer.html/">Whistle control your computer (Linux&amp;Mac)</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-gray bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="rberenguel.github.io" >
    &copy; 2019 mostlymaths.net
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/rberenguel.github.io/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
