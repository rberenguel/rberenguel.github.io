<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>mostlymaths.net  | Using Gephi with Google Analytics to visualize keywords and landing pages</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.57.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    
      <link rel="stylesheet" href="/byrne-caps/stylesheet.css">
    
      <link rel="stylesheet" href="/css/custom.css">
    

    
      
    

    

    <meta property="og:title" content="Using Gephi with Google Analytics to visualize keywords and landing pages" />
<meta property="og:description" content="As of late, I&rsquo;ve been playing a lot with data analysis and visualization tools. Recently I&rsquo;ve read two interesting books (Statistical Analysis with Rand Visualize This: The FlowingData Guide to Design, Visualization, and Statistics) and I&rsquo;m on my way to another two to refresh my statistics knowledge.
But this post is only mildly related to these books, since it started way before: the day I read about Gephi. Gephi is an open source graph visualization tool, to work with huge (or at least very big) datasets and graphs." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mostlymaths.net/2011/08/using-gephi-to-visualize-keywords-and.html/" />
<meta property="article:published_time" content="2011-08-18T18:50:00+02:00" />
<meta property="article:modified_time" content="2011-08-18T18:50:00+02:00" />
<meta itemprop="name" content="Using Gephi with Google Analytics to visualize keywords and landing pages">
<meta itemprop="description" content="As of late, I&rsquo;ve been playing a lot with data analysis and visualization tools. Recently I&rsquo;ve read two interesting books (Statistical Analysis with Rand Visualize This: The FlowingData Guide to Design, Visualization, and Statistics) and I&rsquo;m on my way to another two to refresh my statistics knowledge.
But this post is only mildly related to these books, since it started way before: the day I read about Gephi. Gephi is an open source graph visualization tool, to work with huge (or at least very big) datasets and graphs.">


<meta itemprop="datePublished" content="2011-08-18T18:50:00&#43;02:00" />
<meta itemprop="dateModified" content="2011-08-18T18:50:00&#43;02:00" />
<meta itemprop="wordCount" content="1091">



<meta itemprop="keywords" content="Blog,Data,Visualization," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Using Gephi with Google Analytics to visualize keywords and landing pages"/>
<meta name="twitter:description" content="As of late, I&rsquo;ve been playing a lot with data analysis and visualization tools. Recently I&rsquo;ve read two interesting books (Statistical Analysis with Rand Visualize This: The FlowingData Guide to Design, Visualization, and Statistics) and I&rsquo;m on my way to another two to refresh my statistics knowledge.
But this post is only mildly related to these books, since it started way before: the day I read about Gephi. Gephi is an open source graph visualization tool, to work with huge (or at least very big) datasets and graphs."/>

  </head>

  <body class="ma0 helvetica bg-near-white">

    



  <header>
    <div class="bg-gray">
      <nav class="pv1 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://mostlymaths.net/" class="f3 fw2 hover-white no-underline white-90 dib">
      mostlymaths.net
    </a>
    <div class="flex-l items-center">
      

      
      











    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      

  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <h1 class="fw1 mb1 f1">Using Gephi with Google Analytics to visualize keywords and landing pages</h1>
      
      <time class="f6 mv4 dib tracked" datetime="2011-08-18T18:50:00&#43;02:00">August 18, 2011</time>
      
      
      &nbsp;&nbsp;&nbsp;
      <span class="fw1 mv4 dib tracked i" style="font-size: 0.4rem;"> 6 minutes read</span>
      <span class="fw1 mv4 dib tracked i" style="font-size: 0.4rem;"> | 1091 words</span>
      
    </header>
    
    <section class="nested-copy-line-height lh-copy f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l justify ">

<p>As of late, I&rsquo;ve been playing a lot with data analysis and visualization tools. Recently I&rsquo;ve read two interesting books (<a href="http://www.amazon.com/gp/product/1849512086/ref=as_li_ss_tl?ie=UTF8&amp;tag=rbersblog-20&amp;linkCode=as2&amp;camp=217145&amp;creative=399373&amp;creativeASIN=1849512086">Statistical Analysis with R</a><img src="http://www.assoc-amazon.com/e/ir?t=&amp;l=as2&amp;o=1&amp;a=1849512086&amp;camp=217145&amp;creative=399373" alt="" /> and <a href="http://www.amazon.com/gp/product/0470944889/ref=as_li_ss_tl?ie=UTF8&amp;tag=rbersblog-20&amp;linkCode=as2&amp;camp=217145&amp;creative=399369&amp;creativeASIN=0470944889">Visualize This: The FlowingData Guide to Design, Visualization, and Statistics</a><img src="http://www.assoc-amazon.com/e/ir?t=&amp;l=as2&amp;o=1&amp;a=0470944889&amp;camp=217145&amp;creative=399369" alt="" />) and I&rsquo;m on my way to another two to refresh my statistics knowledge.</p>

<p>But this post is only mildly related to these books, since it started way before: the day I read about <a href="http://gephi.org/">Gephi</a>. Gephi is an open source graph visualization tool, to work with huge (or at least very big) datasets and graphs. I&rsquo;ve seen it used to graph the friendship network from Facebook, or to graph tweet-retweets from Twitter (these two can be found in the Learn section from the Gephi website). In this post I&rsquo;ll guide you step by step to do a keyword-landing page directed graph, using data from your Google Analytics account.</p>

<p>A directed graph is a graph with arrows. You have a set of sources (in this case keywords) and targets (in this case landing pages), and aggregate sources by name. Plot this, and you have a keyword-landing page graph like this one (data for the last month in mostlymaths.net restricted to the first 500 keywords).</p>

<p><a href="http://3.bp.blogspot.com/-0PwyDm5n3nA/Tk0mRkSlfgI/AAAAAAAADXo/uZGMMFrvdPo/s1600/Keywords-LandingPages.png"><img src="http://3.bp.blogspot.com/-0PwyDm5n3nA/Tk0mRkSlfgI/AAAAAAAADXo/uZGMMFrvdPo/s400/Keywords-LandingPages.png" alt="" /></a><br />
Keywords (arrow) Landing pages</p>

<h2 id="what-interesting-things-you-can-read-from-such-a-graph">What interesting things you can read from such a graph</h2>

<ul>
<li>Clustering: In this particular instance, I can find the &ldquo;clusters&rdquo; of my blog. You can see 3 big aggregations of keywords and landing pages (left-middle,up-center and right-middle). Each one of these marks pages and groups of pages with several landing keywords. The groupings mark like the &ldquo;big themes&rdquo; in my blog, at least from search engine traffic (these are memory techniques, 9 best programming books I&rsquo;ve read and seed germination respectively). Oddly enough, I&rsquo;ve had one visit landing in seed germination from the keyword &ldquo;gnus mail&rdquo;, thus the big seed germination cluster includes emacs.</li>

<li><p>Big keywords: In gephi you can scale nodes depending on other table variables. For example, I can scale the landing page dots depending on the number of keywords, or the number of visits. In particular, I can show which keywords lead to more of my pages, by using the outDegree (number of arrows escaping) of a node.</p></li>

<li><p>Big pages: Alternatively, I can scale nodes with the inDegree (number of arrows entering) to learn which pages have the most different keywords. I can also label the arrows with the number of visits (and scale them with this metric).</p></li>

<li><p>Huge pages: with a little more work, I could scale with total visits to see which are my biggest pages together with the landing keywords.</p></li>
</ul>

<h2 id="step-by-step-guide">Step by step guide</h2>

<p>I&rsquo;ll assume that you can manage to download and install gephi on your own, and have some knowledge of Google Analytics. Of course, the first you need is to select the keyword and landing page fields in your Google Analytics page:</p>

<p><a href="http://3.bp.blogspot.com/-qbFK3mc1zds/Tk0rq6bcDaI/AAAAAAAADXw/twwY6aWa06U/s1600/GA-KeywordsLandingPages.png"><img src="http://3.bp.blogspot.com/-qbFK3mc1zds/Tk0rq6bcDaI/AAAAAAAADXw/twwY6aWa06U/s400/GA-KeywordsLandingPages.png" alt="" /></a></p>

<p>Then select Show Rows and select 500:</p>

<p><a href="http://3.bp.blogspot.com/-_xERd4PoCcY/Tk0r7upBueI/AAAAAAAADX4/j1Is9KB9a-E/s1600/GA-Rows.png"><img src="http://3.bp.blogspot.com/-_xERd4PoCcY/Tk0r7upBueI/AAAAAAAADX4/j1Is9KB9a-E/s400/GA-Rows.png" alt="" /></a></p>

<p>And get a nice CSV file with the export tab on top:</p>

<p><a href="http://1.bp.blogspot.com/-0FOp610iulg/Tk0sZ2kGejI/AAAAAAAADYI/0Tpu0kjnjXQ/s1600/GA-Export.png"><img src="http://1.bp.blogspot.com/-0FOp610iulg/Tk0sZ2kGejI/AAAAAAAADYI/0Tpu0kjnjXQ/s400/GA-Export.png" alt="" /></a></p>

<p>Now I don&rsquo;t know if this is because I select CSV and not CSV for Excel, but you have to clean the file: there are a lot of table identifiers to remove before the real data table. You also need to remove a line at the end of the file. You can do all this editing with any plain text editor. I used <a href="http://www.mostlymaths.net/search/label/emacs">emacs</a>.</p>

<p><a href="http://3.bp.blogspot.com/-2u7itXiK83M/Tk0tIo6RAeI/AAAAAAAADYY/7f8wEVdYFFk/s1600/GA-Clean.png"><img src="http://3.bp.blogspot.com/-2u7itXiK83M/Tk0tIo6RAeI/AAAAAAAADYY/7f8wEVdYFFk/s400/GA-Clean.png" alt="" /></a></p>

<p>Remove all this, below Table you should have the useful data,</p>

<p><a href="http://2.bp.blogspot.com/-evJziK-QiMU/Tk0tIY9F-vI/AAAAAAAADYQ/US5-fAntw0k/s1600/GA-Clean2.png"><img src="http://2.bp.blogspot.com/-evJziK-QiMU/Tk0tIY9F-vI/AAAAAAAADYQ/US5-fAntw0k/s400/GA-Clean2.png" alt="" /></a></p>

<p>Remove the last line with dashes. Now the file is almost ready to be imported&hellip; You need to rename the Visits column to something else, for some odd reason Google Analytics copies the same column twice and Gephi needs unique column names. Ready to import! In Gephi, go to the Data Table window from the Window menu, and click Import Spreadsheet:</p>

<p><a href="http://4.bp.blogspot.com/-pd0JyvvCET8/Tk0ua1PdBnI/AAAAAAAADYo/q6DRK-95yWg/s1600/Gephi-ImportSpreadhsheet.png"><img src="http://4.bp.blogspot.com/-pd0JyvvCET8/Tk0ua1PdBnI/AAAAAAAADYo/q6DRK-95yWg/s400/Gephi-ImportSpreadhsheet.png" alt="" /></a></p>

<p>And now you should select edges table and comma-separated:</p>

<p><a href="http://4.bp.blogspot.com/-Vvf_FLknUZ0/Tk0ualUqDTI/AAAAAAAADYg/9x5YszPTa8k/s1600/Gephi-Import.png"><img src="http://4.bp.blogspot.com/-Vvf_FLknUZ0/Tk0ualUqDTI/AAAAAAAADYg/9x5YszPTa8k/s400/Gephi-Import.png" alt="" /></a> <a href="http://1.bp.blogspot.com/-_87OzlxY4xw/Tk0vLg0bl3I/AAAAAAAADYw/sEIHAVZbVpA/s1600/Gephi-SourcesError.png"><img src="http://1.bp.blogspot.com/-_87OzlxY4xw/Tk0vLg0bl3I/AAAAAAAADYw/sEIHAVZbVpA/s400/Gephi-SourcesError.png" alt="" /></a></p>

<p>Oops! More tweaking of the CSV file is needed: Change the first two columns to Source and Target (and don&rsquo;t forget to mark comma as I did, too) and re-import the file:</p>

<p><a href="http://1.bp.blogspot.com/-u2DwDTP-zZ4/Tk0vL1-WidI/AAAAAAAADY4/rgK8be8aF1U/s1600/GA-ImportOK.png"><img src="http://1.bp.blogspot.com/-u2DwDTP-zZ4/Tk0vL1-WidI/AAAAAAAADY4/rgK8be8aF1U/s400/GA-ImportOK.png" alt="" /></a></p>

<p>After clicking next, Gephi will ask you for the types of the columns. Since I&rsquo;m only interested in visits, pages/visit and average time on site, these are the only columns I want to be floats. You need them to be float to scale the nodes according to these parameters:</p>

<p><a href="http://3.bp.blogspot.com/-q4Uo27tfFEs/Tk0wn1mIm4I/AAAAAAAADZQ/LcjF1xtXLC8/s1600/Gephi-ImportParameters.png"><img src="http://3.bp.blogspot.com/-q4Uo27tfFEs/Tk0wn1mIm4I/AAAAAAAADZQ/LcjF1xtXLC8/s400/Gephi-ImportParameters.png" alt="" /></a></p>

<p>Next, we&rsquo;ll see a blob of points with no labels. Choose the Force Atlas algorithm in the Layout window, run for a while and then click stop:</p>

<p><a href="http://3.bp.blogspot.com/-s1yUhadWyIM/Tk0wntOFEEI/AAAAAAAADZI/1pwFa7RQXGY/s1600/Gephi-Blob.png"><img src="http://3.bp.blogspot.com/-s1yUhadWyIM/Tk0wntOFEEI/AAAAAAAADZI/1pwFa7RQXGY/s400/Gephi-Blob.png" alt="" /></a> <a href="http://4.bp.blogspot.com/-9QTIvERhsOc/Tk0wnearQ3I/AAAAAAAADZA/PB88zRwoW2Y/s1600/Gephi-ForceAtlas.png"><img src="http://4.bp.blogspot.com/-9QTIvERhsOc/Tk0wnearQ3I/AAAAAAAADZA/PB88zRwoW2Y/s400/Gephi-ForceAtlas.png" alt="" /></a></p>

<p>The result from the Force Atlas algorithm to distribute points will look nicer, spreading aggregates of arrows all over the place. Now we need to get the labels. To do so, you have to click on a somewhat hidden button in the bottom-right part of the Graph window, and select the correct names for the tags. In this picture I&rsquo;ve also marked the label and edge scaling according to parameters:</p>

<p><a href="http://4.bp.blogspot.com/-0qNIIYeu69g/Tk0yeIWMuUI/AAAAAAAADZg/vX0L4pxIL8k/s1600/Gephi-Labels.png"><img src="http://4.bp.blogspot.com/-0qNIIYeu69g/Tk0yeIWMuUI/AAAAAAAADZg/vX0L4pxIL8k/s400/Gephi-Labels.png" alt="" /></a></p>

<p>Once you have labels, you need to play with the layout to make them more visible. Run the algorithm Adjust Labels for a while, then Force Atlas and repeat until you are happy with the results:</p>

<p><a href="http://2.bp.blogspot.com/-rfHb9ZgP9ts/Tk0yw3JnwSI/AAAAAAAADZo/HrRyjY87F9w/s1600/Gephi-LabelAdjust.png"><img src="http://2.bp.blogspot.com/-rfHb9ZgP9ts/Tk0yw3JnwSI/AAAAAAAADZo/HrRyjY87F9w/s400/Gephi-LabelAdjust.png" alt="" /></a></p>

<p>You can also set labels for the edges, if you are interested in seeing visits, for example. But I found it messy and unchecked the option. Finally, to scale the nodes, use the Ranking window:</p>

<p><a href="http://1.bp.blogspot.com/-xRI9AbjaTAg/Tk0yeDxdr5I/AAAAAAAADZY/Gc9Ezinp3jo/s1600/Gephi-Ranking.png"><img src="http://1.bp.blogspot.com/-xRI9AbjaTAg/Tk0yeDxdr5I/AAAAAAAADZY/Gc9Ezinp3jo/s400/Gephi-Ranking.png" alt="" /></a></p>

<p>The arrows mark the different ways to adjust: you can change colour, size, text size or text colour. Feel free to play with all these settings!</p>

<p>You can get a nice PNG file of you graph by pressing the camera-like icon in the Graph window (clicking the down-arrow will list the properties), or you can export a PDF or SVG with some more work from the Preview window. Both result in very nice images, but a SVG or PDF can be tweaked extensively using Illustrator or Inkscape. But it also needs more work from the Gephi side, so I won&rsquo;t enter into the details in this tutorial. Well, just a little! Be sure to check &ldquo;show&rdquo; before exporting, or you&rsquo;ll see a blank page:</p>

<p><a href="http://2.bp.blogspot.com/-wa5P52yy0l8/Tk0zzH3WzrI/AAAAAAAADZw/go8Daa2WzPM/s1600/Gephi-ExportSVG.png"><img src="http://2.bp.blogspot.com/-wa5P52yy0l8/Tk0zzH3WzrI/AAAAAAAADZw/go8Daa2WzPM/s400/Gephi-ExportSVG.png" alt="" /></a></p>

<p>And with just these steps you can create quite nice (and useful) graphs like this one:</p>

<p><a href="http://4.bp.blogspot.com/-5lkEPGEdmy8/Tk00atMCEyI/AAAAAAAADZ4/lwxiIedPZwQ/s1600/Gephi-FullMap.png"><img src="http://4.bp.blogspot.com/-5lkEPGEdmy8/Tk00atMCEyI/AAAAAAAADZ4/lwxiIedPZwQ/s400/Gephi-FullMap.png" alt="" /></a></p>

<p>And here you can find a closer zoom:</p>

<p><a href="http://3.bp.blogspot.com/-0lkbftmTd68/Tk00a9HAjzI/AAAAAAAADaA/RfkAZIPS9UU/s1600/Gephi-ZoomIn.png"><img src="http://3.bp.blogspot.com/-0lkbftmTd68/Tk00a9HAjzI/AAAAAAAADaA/RfkAZIPS9UU/s400/Gephi-ZoomIn.png" alt="" /></a></p>

<p>I hope you enjoyed this tutorial, if you did it would be awesome if you share it. I&rsquo;ll try to do a few more Gephi tutorials as I find more interesting (for me) uses of Gephi. I have also a few post /tutorial ideas about visualizing Facebook Insights data for pages and using Google Fusion Tables. Stay tuned!</p>

<p>ParseList(ScrambleList(Relateds(Programming)),2)</p>
<hr/><ul class="pa0">
  
   <li class="list" style="display:inline;">
     <a href="/tags/blog" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Blog</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/tags/data" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Data</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/tags/visualization" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Visualization</a>
   </li>
  
</ul>
<div class="mt6">
            
            
        </div>
    </section>
<aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links rounded-6">
    <p class="fw1 f4 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/2010/12/give-yourself-to-music.html/">Get into the Flow: Music Meditation</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2010/12/emacs-30-day-challenge-update-1-writing.html/">Emacs 30 Day Challenge Update #1: Writing this in Conkeror</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2010/11/worst-connectivity-ever.html/">Worst Connectivity Ever</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2010/10/plaintext-text-editor-with-dropbox-sync.html/">PlainText: Text Editor with DropBox Sync for Your iPod, iPhone or iPad</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2010/08/linux-is-time-killer.html/">Linux is a time killer</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-5407208-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


    </main>
    <footer class="bg-gray bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://mostlymaths.net/" >
    &copy; 2019 mostlymaths.net
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
