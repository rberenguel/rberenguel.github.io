<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>mostlymaths.net  | The Ticketiser 2: Now in Haskell</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.63.2" />
    
    
    <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
    

    
    
    <link href="https://mostlymaths.net/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    
    <link rel="stylesheet" href="https://mostlymaths.net/css/all.css">
    
    <link rel="stylesheet" href="https://mostlymaths.net/byrne-caps/stylesheet.css">
    
    <link rel="stylesheet" href="https://mostlymaths.net/css/custom.css">
    
    <link rel="stylesheet" href="https://mostlymaths.net/webfonts/monoid.css">
    
    <link rel="stylesheet" href="https://mostlymaths.net/webfonts/nymphette.css">
    
    <link rel="stylesheet" href="https://mostlymaths.net/webfonts/reforma/reforma.css">
    

    
    
    

    

    <meta property="og:title" content="The Ticketiser 2: Now in Haskell" />
<meta property="og:description" content="This is a project recap on writing some non-super-trivial Haskell for the first time." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mostlymaths.net/2020/08/the-ticketiser-2-now-in-haskell.html/" />
<meta property="article:published_time" content="2020-08-19T18:30:33+02:00" />
<meta property="article:modified_time" content="2020-08-19T18:30:33+02:00" />
<meta itemprop="name" content="The Ticketiser 2: Now in Haskell">
<meta itemprop="description" content="This is a project recap on writing some non-super-trivial Haskell for the first time.">
<meta itemprop="datePublished" content="2020-08-19T18:30:33&#43;02:00" />
<meta itemprop="dateModified" content="2020-08-19T18:30:33&#43;02:00" />
<meta itemprop="wordCount" content="2291">



<meta itemprop="keywords" content="Python,Haskell,Scala," />

    
    
        
    
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image:src" content="https://mostlymaths.net/images/dresser/wide2.jpg"/>
<meta name="twitter:card" content="summary"/>


<meta name="twitter:domain" content="mostlymaths.net"/>
<meta name="twitter:creator" content="@berenguel"/>



<meta name="twitter:title" content="The Ticketiser 2: Now in Haskell"/>
<meta name="twitter:description" content="This is a project recap on writing some non-super-trivial Haskell for the first time."/>

<meta name="author" content="Ruben Berenguel">
    
      
         
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-5407208-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

      
    
  </head>

  <body class="ma0 reforma bg-near-white">

    


  
  
    
  
<header class="cover bg-top" style="max-height: 250px;background-image: url('https://mostlymaths.net///images/dresser/wide2.jpg');">
    <div class="pb1-m pb1-l bg-black-60">
      <nav class="pv1 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://mostlymaths.net/" class="f3 fw2 hover-white no-underline white-90 dib">
      mostlymaths.net
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
              <a class="hover-white no-underline white-90" href="https://mostlymaths.net/search/" title=" page">
                  <i class='fas fa-search'> </i>
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
              <a class="hover-white no-underline white-90" href="https://mostlymaths.net/sitemap/" title=" page">
                  <i class='fas fa-map'> </i>
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
              <a class="hover-white no-underline white-90" href="https://mostlymaths.net/pages/about/" title="about page">
                  about
            </a>
          </li>
          
        </ul>
      
    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        
          
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      

    <article class="flex-l flex-wrap justify-between mw8 center ph3">
  
    <header class="mt4 w-100">
        <h1 class="fw1 mb1 f1">The Ticketiser 2: Now in Haskell</h1>
        
        <time class="f6 mv4 dib tracked" datetime="2020-08-19T18:30:33&#43;02:00">August 19, 2020</time>
      
      
      &nbsp;&nbsp;&nbsp;
      <span class="fw1 mv4 dib tracked i" style="font-size: 0.8rem;"> 11 minutes read</span>
      <span class="fw1 mv4 dib tracked i" style="font-size: 0.8rem;"> | 2291 words</span>
      
      <span class="f6 mv4 dib tracked" style="font-size: 0.8rem;"> by <a href="https://mostlymaths.net">Ruben Berenguel</a></span> 
    </header>
    

    
    
    <section class="nested-copy-line-height lh-copy f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l justify dropcap"><p>This is a project recap on writing some non-super-trivial Haskell for the first time.</p>
<figure class="fig-full">
    <img src="https://mostlymaths.net/images/dresser/wide2.jpg"/> 
</figure>

<p>After reading <a href="https://mostlymaths.net/2020/08/review-success-haskell.html/">Finding Success (and Failure) in Haskell</a>, I decided I needed a non-trivial project to write on my own. I have heard from smart people that Haskell is pretty quick to write once you get your groove, and I was curious to see if I could at least glimpse that.</p>
<p>The project I chose is a rewriting of a CLI tool I wrote in Python close to two years ago, which we jokingly call at work <em>el tiquetizador</em>, the ticketiser. It takes (from <code>stdin</code>) a flat YAML list of ticket details (<em>summary</em>, <em>user story</em>, <em>acceptance criteria</em> and optionally <em>point</em> estimate or <em>description</em>) and calls the Jira API to create them.</p>
<p>It can create epics and any ticket following an epic is added to it. If you use Jira cloud, you can imagine how much time this has saved me during these years.</p>
<p>If you don&rsquo;t feel like reading this, you can find the code for the Haskell version <a href="https://github.com/rberenguel/hticketiser">here</a>.</p>
<div class="sb sb-2">
  <hr class="section-break-2" />
</div>
<p>When I have mentioned this project to people, they have been curious to see it. <em>Jira pain is real</em>. Sadly, it has several hard-coded pieces, and can&rsquo;t be configured without tinkering with the code. It is tested and typed, of course but it would be more hassle sharing it as it is than… rewriting a better version in Haskell?</p>
<p>It ticks several good properties for a learning project:</p>
<ol>
<li>Scratches an own itch: rewriting this to make it usable to others if possible</li>
<li>It is an understood problem with clear boundaries</li>
<li>It covers a range of common patterns:
<ul>
<li>Read from files</li>
<li>Process command line options</li>
<li>Load a configuration file</li>
<li>Interacting with an API</li>
<li>Encoding and decoding (JSON, YAML)</li>
<li>Logging/printing to the terminal</li>
</ul>
</li>
</ol>
<p>It was then an easy choice, and I want to explain the process I followed.</p>
<figure class="fig-full">
    <img src="https://mostlymaths.net/images/dresser/wide3.jpg"/> 
</figure>

<p>My development process is pretty straightforward in cases like this. First, I consider the questions this program <em>has</em>:</p>
<ul>
<li>How can I test what I write?</li>
<li>How do I parse YAML?</li>
<li>How do I serialise and deserialise?</li>
<li>How do I read from a file?</li>
<li>How do I process CLI options?</li>
<li>How do I call an API?</li>
<li>How do I log to <code>stdout</code>?</li>
</ul>
<p>Note that this is regardless of language. In a language I&rsquo;m familiar with, like <a href="https://mostlymaths.net/tags/python/">Python</a>, <a href="https://mostlymaths.net/tags/golang/">Go</a> or <a href="https://mostlymaths.net/tags/scala/">Scala</a>, I know the answers to these questions, but the questions need to be answered for the program to work.</p>
<p>My initial goal once I have these questions is to</p>
<ol>
<li>Find answers,</li>
<li>Build a <em><a href="https://wiki.c2.com/?TracerBullets">tracer bullet</a></em> implementation</li>
</ol>
<p>You don&rsquo;t need to exercise all questions to have a viable tracer, you need to have answers to them. In this case, my initial tracer bullet would:</p>
<ol>
<li>From a YAML-like object,</li>
<li>Call the API and create a ticket</li>
</ol>
<p>The catch here is that to get to point 1 here, the best way is to start from YAML and convert it to an object, answering 2 questions. And to get to 2, you need to call an API and serialise/deserialise.</p>
<p>Before writing the tracer, though, I wrote small methods to answer the other questions. Get a file name from the CLI, read it, write to to the screen (which is a form of logging in a way). Once I had YAML parsed, I wrote a small test to confirm it was the expected object.</p>
<div class="sb sb-2">
  <hr class="section-break-2" />
</div>
<h3 id="days-1-and-2-first-steps-and-poc">Days 1 and 2: First steps and PoC</h3>
<figure class="fig-right">
    <img src="https://mostlymaths.net/images/dresser/square1.jpg"/> 
</figure>

<p>My first Haskell weekend was spent writing this tracer. I started by using the <a href="https://github.com/snoyberg/yaml"><code>yaml</code> library</a> by <a href="https://mobile.twitter.com/snoyberg">Michael Snoyman</a>. In particular, I copied from the <code>config</code> example <a href="https://github.com/snoyberg/yaml/blob/master/yaml/examples/Config.hs">here</a>. This example is interesting because it serves almost as a test harness about how to go from <em>inlined string</em> to object.</p>
<p>Thus, the first half of the day was spent writing data types for the YAML objects, and tweaking how they looked.</p>
<p>Once I had this down, the other half went for CLI parsing. I went for command-line option parsing, and chose <a href="https://hackage.haskell.org/package/optparse-applicative">optparse-applicative</a>. This was trickier to write and understand, but I got a CLI argument parser. For now I didn&rsquo;t have any flags, only a filename.</p>
<div class="note">
<span class='scaps ' style="display: inline-block;">
  First realisation:
</span> 
<span class='note-body ' style="display: inline-block;">
<p>Haskell is pretty easy to write if you find examples and you have a good LSP client. Even though it had taken me almost a &ldquo;day&rdquo; (it was weekend time, it was probably close to at most 4 hours), the experience had been good. I was looking for more the next day.</p>
</span>
</div>
<p>For the second day, I went for the API calls. This is always tricky, regardless of the language. In the case of Haskell, doubly so: add IO, monads, do notation and the rest of Haskell arcana.</p>
<p>To solve it, I went with whatever had an example of a <code>POST</code> request with <code>JSON</code> payload: <a href="https://github.com/snoyberg/http-client/blob/master/TUTORIAL.md">http-conduit</a> (also by Snoyman). In particular, the tutorial <a href="https://github.com/snoyberg/http-client/blob/master/TUTORIAL.md">here</a> is clear enough even I could handle it.</p>
<p>I ended the day with a win, by sending a (static) YAML object to the Jira API. And a ticket was created. Always try to finish work with a win.</p>
<p>By this point I had:</p>
<ul>
<li><code>FromJSON</code> instances for the YAML serialisation (the YAML library uses JSON instances under the hood) of <code>Ticket</code></li>
<li><code>filenameToTickets :: FilePath -&gt; IO [Ticket]</code> From a path to a list of tickets</li>
<li>Configuration data type to have the custom field mappings for Jira (what is an epic, what is a story, what field is the acceptance criteria, etc)</li>
<li><code>ToJSON</code> instances for <code>Ticket</code> to convert into Jira <code>POST</code> payloads</li>
<li>A <code>main</code> function that could do a <code>POST</code> request, all inside a <code>do</code></li>
<li>Scattered &ldquo;nomain&rdquo; functions with several examples of parsing CLI arguments I had tried.</li>
<li>A test for the serialisation <code>FromJSON</code>
<br/></li>
</ul>
<figure class="fig-full">
    <img src="https://mostlymaths.net/images/dresser/wide1.jpg"/> 
</figure>

<h3 id="day-3-it-works">Day 3: It works!</h3>
<p>I started by plugging the pieces: read YAML, process it and send it to the Jira API. This was pretty straightforward:</p>
<ul>
<li>Extract the part that was generating the request, creating <code>sendOneTicket :: Ticket -&gt; IO ()</code></li>
<li>Plug the CLI parsing to get the filename</li>
<li>Use <code>filenameToTickets</code> to get `IO [Tickets]</li>
<li><code>mapM_</code> over IO [Tickets] with [sendOneTicket]</li>
</ul>
<p>You can think of <code>mapM_</code>, from <code>Control.Monad</code> as an equivalent to <code>map</code>, but for lists wrapped inside a monad. In this case, I had a <code>IO [Tickets]</code>, the list is <code>[Tickets]</code>, the monad <code>IO</code>. Since I have a function from ticket to <code>IO</code>, I can use <code>mapM</code> to go through the list, preserving the <code>IO</code>. The underscore is because I don&rsquo;t care about the returning results (which were empty at the moment anyway).</p>
<div class="note">
<span class='scaps ' style="display: inline-block;">
  Second realisation:
</span> 
<span class='note-body ' style="display: inline-block;">
<p>For some reason I expected this to be hard, and take me several days to get it. It took me around 4 minutes to figure that out, write it and tweak a bit the functions to make it work. <em>I was impressed</em> (by the language, not my ability, since I didn&rsquo;t do much here).</p>
</span>
</div>
<p>The implementation at this point was usable. You could create a file with:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- <span style="color:#66d9ef">epic</span>: Foo1
  <span style="color:#66d9ef">us</span>: As a foo1, I want to  so that 
  <span style="color:#66d9ef">ac</span>: Bar
- <span style="color:#66d9ef">story</span>: Ticket1
  <span style="color:#66d9ef">us</span>: As a ticket, I want to ticket so that I ticket
  <span style="color:#66d9ef">ac</span>: ticket
</code></pre></div><p>and it would be processed by sending this as tickets created in Jira.</p>
<p>It had an issue, though. The goal of this tool is to prevent you from having to click anything in Jira as much as possible. Imagine that you create an epic, and this epic contains 15 tickets. As the program was right now, you&rsquo;d need to open Jira, find all these tickets, bulk update (if you have permissions) and assign them to the epic. If you have ever used bulk update I see you cringing as you read this.</p>
<p>The Python implementation had this as a feature: if a ticket was an epic, it would keep the created epic id and add it as the related epic to all following stories. In the example above, <em>Ticket1</em> would then belong to epic <em>Foo1</em>. If there were subsequent epics, the epic for tickets after would change to the most recent one.</p>
<p>Solving this in Haskell was stumping me. I was thinking <em>isn&rsquo;t this just a kind of <code>State</code> I can handle with a <code>State monad</code>?</em> I can barely use a state monad in Scala, the prospect of using it in Haskell was not exciting. If you squint, this looks like folding. If we modify <code>sendOneTicket</code> to be:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-haskell" data-lang="haskell"><span style="color:#a6e22e">sendOneTicket</span> <span style="color:#f92672">::</span> <span style="color:#66d9ef">Maybe</span> <span style="color:#66d9ef">String</span> <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">Ticket</span> <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">IO</span> (<span style="color:#66d9ef">Maybe</span> <span style="color:#66d9ef">String</span>)
</code></pre></div><p>Then:</p>
<ul>
<li>We expect <em>maybe</em> an epic identifier for the ticket</li>
<li>If the ticket is an epic, we return its identifier</li>
<li>If the ticket is a normal story, we return the possibly <code>Nothing</code> epic identifier passed to us</li>
</ul>
<p>And this can be folded over, by using <code>foldM_</code> from <code>Control.Monad</code> again, the equivalent to fold when inside a monad.</p>
<p>At this point there is more or less feature parity with the Python implementation. Things missing:</p>
<ul>
<li>I wanted to make this implementation as configurable as possible. All indicates this will be impossible in complete generality, I will do my best. This is an improvement on the Python implementation</li>
<li>I broke the tests by modifying several things. I want tests, even if just a couple.</li>
<li>There are additional flags to pass to add tickets to other boards (this is a feature that prevents it from being as general as I&rsquo;d like in the first bullet)</li>
<li>It needs more logging, at the moment it is just printing the URLs to the tickets. This is good enough but a verbose flag and getting the responses in that case can go a long way to troubleshoot setup. I may skip this.</li>
</ul>
<p>This day was also when I added compiler flags to the build:</p>
<ul>
<li><code>fwarn-unused-imports</code>: I don&rsquo;t like having more imports than I need</li>
<li><code>Werror=incomplete-patterns</code>: I like <code>case</code>s to be exhaustive. How come this is not the default?</li>
</ul>
<figure class="fig-full">
    <img src="https://mostlymaths.net/images/dresser/wide4.jpg"/> 
</figure>

<h3 id="day-4-refactor-cleanup">Day 4: Refactor, cleanup</h3>
<p>This was mostly cleanup day. It involved:</p>
<ul>
<li>Add a linter to the build (<a href="https://github.com/ndmitchell/hlint">hlint</a>)</li>
<li>Auto-format the code (<a href="https://github.com/tweag/ormolu">ormolu</a>)</li>
<li>Change some <code>String</code>s for <code>newtype</code>s to get more help from the compiler</li>
<li>Add configuration for credentials and URL instead of hardcoding them</li>
<li>Try to extract <em>custom Jira settings</em> (fail)</li>
</ul>
<p>The last point deserves an aside.</p>
<p>All Jira cloud setups share a small subset of properties, or some are at least common enough to be standard:</p>
<ul>
<li>There are <em>story</em> tickets and <em>epic</em> tickets</li>
<li>Tickets have <em>titles</em></li>
<li>Tickets have <em>acceptance criteria</em></li>
<li>Tickets can have <em>description</em></li>
<li>Stories can have point estimates</li>
</ul>
<p>Even some of these can be contested: there are probably Jira setups without epics. But a system as described above should be good enough for most.</p>
<p>The first problem is that these easy-to-understand fields need to be mapped to the corresponding internal identifiers in Jira. I.e. acceptance criteria might be the JSON/API field <code>customfield_14300</code>.</p>
<p>This is actually tricky to solve as it stands. My design is:</p>
<ul>
<li>Tickets are a data type <code>Story|Epic</code></li>
<li>They have a <code>FromJSON</code> instance used by the YAML library to decode (hand-rolled)</li>
<li>They have a <code>ToJSON</code> instance used by Aeson for the API POST (hand-rolled)</li>
</ul>
<p>The information about the field naming is needed as part of the <code>ToJSON</code> instance. I hardcoded these, and this is good enough for one user locally. There are some ways to solve it in general, the easiest one having a composite <code>TicketWithConfig</code> data type that is created from the deserialised tickets (and more esoteric ideas like constructing a <code>Reader</code>).</p>
<p>The problem comes when there are fields that are required and have special constructs (like <code>team</code>, which is a nested field with id). One possible solution would be to deserialise it as a list of required fields from the config and then iterate, adding them to the tickets.</p>
<p>In the end, I decided that this was a possible area of improvement if anyone outside the company I work for starts using <code>hticketiser</code>. It&rsquo;s not worth overcomplicating the code for zero benefit. At the moment, if you want to use it, you would need to edit a bit what is in <code>Api.hs</code> to conform to the rules of your Jira setup. The most straightforward about this is (you can find this also in the <a href="https://github.com/rberenguel/hticketiser">README of the project</a>):</p>
<ul>
<li>Open your Jira path (while logged-in) at <code>/rest/api/2/issue/ISSUE IDENTIFIER</code></li>
<li>Check the most important fields</li>
<li>Stack build and install</li>
<li>Try to send a new ticket</li>
<li>Check what the error message says and modify accordingly (in general the errors will be <code>field so and so required</code> or <code>field so and so is not available in this view</code>)</li>
</ul>
<figure class="fig-full">
    <img src="https://mostlymaths.net/images/dresser/wide5.jpg"/> 
</figure>

<h3 id="day-5-wrap-it-up-and-push-to-github">Day 5: Wrap it up and push to Github</h3>
<p>This was finish-up. Add a <code>README.md</code>, an example of ticket file and configuration. Send to <a href="https://github.com/rberenguel/hticketiser">Github</a> and wrap up the post.</p>
<p>I added additional configuration to select the board (since I create epics/stories in two boards) and the required changes, which imply modifications in the serialisers as detailed above. It was pretty painless thanks to the compiler telling me &ldquo;nope, nope, nope&rdquo;.</p>
<p>Git push and done.</p>
<h3 id="summary">Summary</h3>
<ul>
<li>It took less than 3 days to go from <em>huh</em> to <em>it works</em>.</li>
<li>The code is not the nicest-looking code I have written, but for a first project I&rsquo;m reasonably happy with it.</li>
<li>Somewhat unexpectedly, there is more code in the Haskell version than the Python version. This is due to writing the instances for <code>ToJSON</code> and <code>FromJSON</code> by hand, but is kind of required to make parsing as strict/flexible as I need.</li>
<li>Haskell code you find in the wild may look unreadable, but once you write something yourself you realise what all those arrows are. And the compiler will be of great help.</li>
</ul>
<p>If you are wondering: yes, I will write more Haskell code. Not sure for what now though!</p>
<h3 id="addendum">Addendum</h3>
<p>There were some interesting suggestions for improvement (some I have tried, and some I leave for future projects) in <a href="https://www.reddit.com/r/haskell/comments/iflrw9/observations_after_the_first_time_writing_simple/">this Reddit thread</a>.</p>
<hr>
<div class="note">
<span class='scaps smallText' style="display: inline-block;">
  All images in this post are from:
</span> 
<span class='note-body smallText' style="display: inline-block;">
<p><a href="https://archive.org/details/Studiesdesign00Dres/page/n173/mode/2up">Christopher Dresser&rsquo;s <em>Studies in Design</em></a></p>
</span>
</div><hr/>
        <ul class="pa0">
  
   <li class="list" style="display:inline;">
     <a href="https://mostlymaths.net/tags/python" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Python</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="https://mostlymaths.net/tags/haskell" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Haskell</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="https://mostlymaths.net/tags/scala" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Scala</a>
   </li>
  
</ul>
<div class="mt6">
            
            
        </div>
    </section>
<aside class="w-30-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links rounded-6">
    <p class="fw1 f4 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
           <a href="https://mostlymaths.net/2020/08/202051-readings-of-the-week.html/">2020#51 Readings of the Week</a>
       </li>
	     
	     <li  class="mb2">
           <a href="https://mostlymaths.net/2019/11/201930-readings-of-the-week.html/">2019#30 Readings of the Week</a>
       </li>
	     
	     <li  class="mb2">
           <a href="https://mostlymaths.net/2019/10/201929-readings-of-the-week.html/">2019#29 Readings of the Week</a>
       </li>
	     
	     <li  class="mb2">
           <a href="https://mostlymaths.net/2020/09/202056-readings-of-the-week.html/">2020#55 Readings of the Week</a>
       </li>
	     
	     <li  class="mb2">
           <a href="https://mostlymaths.net/2020/09/202055-readings-of-the-week.html/">2020#55 Readings of the Week</a>
       </li>
	     
    </ul>
  </div>
  <div style="min-height: 3em;">
  </div>
  <div class="bg-light-gray pa3 rounded-6">
      <div id="amzn-assoc-ad-b32c8532-5735-46ba-a593-6ef194979030"></div>
  </div>
  <script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=b32c8532-5735-46ba-a593-6ef194979030"></script></aside>
    
    </article>
    
    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-5407208-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    

    </main>
    <footer class="bg-gray bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://mostlymaths.net/" >
    &copy; 2020 mostlymaths.net
  </a>
    <div>


<a href="https://www.facebook.com/mostlymaths/" target="_blank" class="link-transition facebook link dib z-999 pt3 pt0-l mr1" title="Facebook link" rel="noopener" aria-label="follow on Facebook——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://www.twitter.com/berenguel" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://www.instagram.com/mostlymaths/" target="_blank" class="link-transition instagram link dib z-999 pt3 pt0-l mr1" title="Instagram link" rel="noopener" aria-label="follow on Instagram——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M42.271,26.578v-0.006c0.502,0,1.005,0.01,1.508-0.002  c0.646-0.017,1.172-0.57,1.172-1.217c0-0.963,0-1.927,0-2.89c0-0.691-0.547-1.24-1.236-1.241c-0.961,0-1.922-0.001-2.883,0  c-0.688,0.001-1.236,0.552-1.236,1.243c-0.001,0.955-0.004,1.91,0.003,2.865c0.001,0.143,0.028,0.291,0.073,0.426  c0.173,0.508,0.639,0.82,1.209,0.823C41.344,26.579,41.808,26.578,42.271,26.578z M33,27.817c-3.384-0.002-6.135,2.721-6.182,6.089  c-0.049,3.46,2.72,6.201,6.04,6.272c3.454,0.074,6.248-2.686,6.321-6.043C39.254,30.675,36.462,27.815,33,27.817z M21.046,31.116  v0.082c0,4.515-0.001,9.03,0,13.545c0,0.649,0.562,1.208,1.212,1.208c7.16,0.001,14.319,0.001,21.479,0  c0.656,0,1.215-0.557,1.215-1.212c0.001-4.509,0-9.02,0-13.528v-0.094h-2.912c0.411,1.313,0.537,2.651,0.376,4.014  c-0.161,1.363-0.601,2.631-1.316,3.803s-1.644,2.145-2.779,2.918c-2.944,2.006-6.821,2.182-9.946,0.428  c-1.579-0.885-2.819-2.12-3.685-3.713c-1.289-2.373-1.495-4.865-0.739-7.451C22.983,31.116,22.021,31.116,21.046,31.116z   M45.205,49.255c0.159-0.026,0.318-0.049,0.475-0.083c1.246-0.265,2.264-1.304,2.508-2.557c0.025-0.137,0.045-0.273,0.067-0.409  V21.794c-0.021-0.133-0.04-0.268-0.065-0.401c-0.268-1.367-1.396-2.428-2.78-2.618c-0.058-0.007-0.113-0.02-0.17-0.03H20.761  c-0.147,0.027-0.296,0.047-0.441,0.08c-1.352,0.308-2.352,1.396-2.545,2.766c-0.008,0.057-0.02,0.114-0.029,0.171V46.24  c0.028,0.154,0.05,0.311,0.085,0.465c0.299,1.322,1.427,2.347,2.77,2.52c0.064,0.008,0.13,0.021,0.195,0.03H45.205z M33,64  C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>



<a href="https://linkedin.com/in/rberenguel" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://github.com/rberenguel" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




</div>
  </div>
</footer>

    

  <script src="https://mostlymaths.net/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
