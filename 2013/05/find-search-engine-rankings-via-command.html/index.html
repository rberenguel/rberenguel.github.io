<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>mostlymaths.net  | Find Search Engine Rankings... via the Command Line</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.57.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    
      <link rel="stylesheet" href="/css/all.css">
    
      <link rel="stylesheet" href="/byrne-caps/stylesheet.css">
    
      <link rel="stylesheet" href="/css/custom.css">
    
      <link rel="stylesheet" href="/webfonts/monoid.css">
    

    
      
    

    

    <meta property="og:title" content="Find Search Engine Rankings... via the Command Line" />
<meta property="og:description" content="Via pixelfrenzy@flickr
Beware! The software described here is just for personal and very light use. Its use beyond purely recreational value is against Google Search terms of service, and I don&rsquo;t want you or anyone to step that line. Any use of this code is at your own risk.
Well, after this scary paragraph, lets get to the real meat. Which boils down to just a few lines of bash." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mostlymaths.net/2013/05/find-search-engine-rankings-via-command.html/" />
<meta property="article:published_time" content="2013-05-22T18:33:00+02:00" />
<meta property="article:modified_time" content="2013-05-22T18:33:00+02:00" />
<meta itemprop="name" content="Find Search Engine Rankings... via the Command Line">
<meta itemprop="description" content="Via pixelfrenzy@flickr
Beware! The software described here is just for personal and very light use. Its use beyond purely recreational value is against Google Search terms of service, and I don&rsquo;t want you or anyone to step that line. Any use of this code is at your own risk.
Well, after this scary paragraph, lets get to the real meat. Which boils down to just a few lines of bash.">


<meta itemprop="datePublished" content="2013-05-22T18:33:00&#43;02:00" />
<meta itemprop="dateModified" content="2013-05-22T18:33:00&#43;02:00" />
<meta itemprop="wordCount" content="530">



<meta itemprop="keywords" content="Command Line,Linux,Data,SEO,ag,Mac,DIY,acme," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Find Search Engine Rankings... via the Command Line"/>
<meta name="twitter:description" content="Via pixelfrenzy@flickr
Beware! The software described here is just for personal and very light use. Its use beyond purely recreational value is against Google Search terms of service, and I don&rsquo;t want you or anyone to step that line. Any use of this code is at your own risk.
Well, after this scary paragraph, lets get to the real meat. Which boils down to just a few lines of bash."/>

  </head>

  <body class="ma0 helvetica bg-near-white">

    



  <header>
    <div class="bg-gray">
      <nav class="pv1 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://mostlymaths.net/" class="f3 fw2 hover-white no-underline white-90 dib">
      mostlymaths.net
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
              <a class="hover-white no-underline white-90" href="/search/" title="   page">
                  <i class='fas fa-search'> </i>
            </a>
          </li>
          
        </ul>
      
      











    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      

  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <h1 class="fw1 mb1 f1">Find Search Engine Rankings... via the Command Line</h1>
      
      <time class="f6 mv4 dib tracked" datetime="2013-05-22T18:33:00&#43;02:00">May 22, 2013</time>
      
      
      &nbsp;&nbsp;&nbsp;
      <span class="fw1 mv4 dib tracked i" style="font-size: 0.4rem;"> 3 minutes read</span>
      <span class="fw1 mv4 dib tracked i" style="font-size: 0.4rem;"> | 530 words</span>
      
    </header>
    
    

    <section class="nested-copy-line-height lh-copy f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l justify "><p><a href="http://1.bp.blogspot.com/--SmywlQFXd4/UZzo2mlvcQI/AAAAAAAADk8/URgVTasznuM/s1600/2695499877_60eaaabce1_m.jpg"><img src="http://1.bp.blogspot.com/--SmywlQFXd4/UZzo2mlvcQI/AAAAAAAADk8/URgVTasznuM/s1600/2695499877_60eaaabce1_m.jpg" alt="" /></a></p>

<p>Via <a href="http://www.flickr.com/photos/pixelfrenzy/">pixelfrenzy</a>@flickr</p>

<p><strong>Beware! The software described here is just for personal and <em>very</em> light use. Its use beyond purely recreational value is against Google Search terms of service, and I don&rsquo;t want you or anyone to step that line. Any use of this code is at your own risk.</strong></p>

<p>Well, after this scary paragraph, lets get to the real meat. Which boils down to just a few lines of bash.</p>

<p>I&rsquo;m a command line interface geek. I enjoy tools like <a href="http://www.blogger.com/blogger.g?blogID=13497321#editor/target=post;postID=7811882883874030608;onPublishedMenu=overview;onClosedMenu=overview;postNum=60;src=postname">taskwarrior</a> or <a href="http://www.imagemagick.org/script/index.php">imagemagick</a>. And every time I have to chew some data, I go down the command line route. In the last months I have found the incredibly effectiveness of awk, sed, head, tail and tr to convert what some web service spits into useful data I can feed to R to do something useful.</p>

<p>Today I was thinking about search rankings, and wondering if I could write a small tool that eased my occasional curiosity. Yes, I have done this by hand: search for some keyword and look through 8 pages of results looking for one of my websites. I don&rsquo;t do it very often, but sometimes it has to be done. And since I love automating things and the command line, I wrote the following blurb. I don&rsquo;t claim it is beautiful, but it works:</p>

<pre><code>#/bin/sh
``````
  
\# Perform a web search in Google via the command line. Usage:
``````
  
\# automatic.sh &quot;search term&quot; domain pages 
``````
\# domain stands for what goes after the dot in &quot;google.&quot; and 
``````
\# defaults to com. Pages is the number of search pages to 
``````
\# process. Defaults to 1, since this script fetches  
\# 100 results per page.
``````
  
domain\=${2\-com}  
pages\=${3\-4}  
span\=$(seq 0 1 $pages)  
for num in $span  
do  iter\=$((num\*100))
``````
  \# This sets the user agent to Lynx, a command-line web browser to  
  \# let google know it's better if there is no javascript and fluff  
  \# laying around.  
 wget --header=&quot;User-Agent: Lynx/2.6 libwww-FM/2.14&quot;  &quot;http://www.google.$domain/search?q=$1&amp;start=$iter&amp;num=100&quot; -O search$num -q \# Comments about this piping:  \# The sed 'E'xtended command looks for patterns like  
  \# href=&quot;/url=something&quot;, with the goal of grabbing that something:  
  \# that's the result URL from the search. It captures this group  
  \# and rewrites it as &quot;SearchData, something&quot; with several new lines  
  \# for readability (in case you remove the grep pipe.)  
  \# The grep is just used to prune all lines that are not search  
  \# results, and then awk is used to print the search result number  
  \# and the URL  
 sed -E &quot;s/&lt;\[^h\]\*href=\\&quot;\\/url\[^=\]\*=(\[^&amp;\]\*)&amp;\[^\\&quot;\]\*\\&quot;&gt;/\\n SearchData, \\1    \\n\\n/g&quot; search$num | grep &quot;SearchData&quot; | awk &quot;{print $iter+NR \\&quot; \\&quot; \\$2}&quot;  done
``````
  
\# The script leaves a lot of files named &quot;search??&quot; laying in the directory it  
\# is executed. In some sense this is a feature, not a bug. You can  
\# then do something with them. If you don't want them laying around,  
\# add rm search$num before done.  

</code></pre>

<p>To find the search standings of a particular page for a particular term, just pipe through grep or ag:</p>

<p>./automatic.sh &ldquo;learn to remember everything&rdquo; | grep &ldquo;mostlymaths&rdquo;</p>

<p>For extra fancy points you can use this to create reports inside <a href="http://www.mostlymaths.net/search/label/acme">Acme</a>, if you are so oriented.</p>
<hr/><ul class="pa0">
  
   <li class="list" style="display:inline;">
     <a href="/tags/command-line" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Command Line</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/tags/linux" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Linux</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/tags/data" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Data</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/tags/seo" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">SEO</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/tags/ag" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">ag</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/tags/mac" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Mac</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/tags/diy" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">DIY</a>
   </li>
  
   <li class="list" style="display:inline;">
     <a href="/tags/acme" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">acme</a>
   </li>
  
</ul>
<div class="mt6">
            
            
        </div>
    </section>
<aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links rounded-6">
    <p class="fw1 f4 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/2013/04/just-as-mario-using-plan9-plumber.html/">Just as Mario: Using the Plan9 plumber utility</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2011/12/working-on-go-with-ipad-bluetooth.html/">Working on the go with an iPad, a Bluetooth keyboard and a 6sync account</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2010/12/emacs-30-day-challenge-using-gnus-to.html/">The emacs 30 Day Challenge: Using &#39;gnus&#39; to read mail</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2010/12/emacs-30-day-challenge-update-1-writing.html/">Emacs 30 Day Challenge Update #1: Writing this in Conkeror</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2010/11/mathematics-poster-dropbox-scribus-and.html/">Mathematics Poster: Dropbox, Scribus and LaTeX for the Win</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-5407208-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


    </main>
    <footer class="bg-gray bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://mostlymaths.net/" >
    &copy; 2019 mostlymaths.net
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
